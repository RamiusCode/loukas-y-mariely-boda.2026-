<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• --><!-- ğŸ“… COMPONENTE CALENDARIO - FECHA DE LA BODA                 --><!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<section class="py-2 px-6 sm:px-8 md:px-12 lg:px-16">
  <div class="max-w-3xl mx-auto relative">
    <!-- CONTENEDOR DEL CALENDARIO -->
    <div class="max-w-sm sm:max-w-sm md:max-w-md mx-auto px-4 relative">
      <!-- HOJAS LATERALES IZQUIERDA -->
      <div
        class="absolute -left-8 md:-left-16 lg:-left-20 top-24 md:top-28 w-20 md:w-24 lg:w-32 pointer-events-none z-0"
        id="hojas-cal-izq"
      >
        <img
          src="/imagenes/Hojas.webp"
          alt="Hojas"
          class="w-full h-auto object-contain"
        />
      </div>

      <!-- HOJAS LATERALES DERECHA -->
      <div
        class="absolute -right-8 md:-right-16 lg:-right-20 top-24 md:top-28 w-20 md:w-24 lg:w-32 pointer-events-none z-0"
        id="hojas-cal-der"
      >
        <img
          src="/imagenes/Hojas.webp"
          alt="Hojas"
          class="w-full h-auto object-contain transform -scale-x-100"
        />
      </div>

      <div
        class="bg-white rounded-3xl shadow-lg border-2 border-[#C9A961] p-4 md:p-8 relative z-10"
        id="calendario-card"
      >
        <!-- TÃTULO DEL MES CON DECORACIÃ“N -->
        <div
          class="flex items-center justify-center gap-4 md:gap-6 mb-6"
          id="titulo-mes-container"
        >
          <!-- LÃ­nea decorativa izquierda -->
          <div
            class="w-12 h-px bg-gradient-to-r from-transparent to-[#C9A961]"
            id="linea-izq"
          >
          </div>

          <!-- TÃ­tulo -->
          <h3
            class="font-great-vibes text-4xl md:text-5xl text-[#C9A961] font-normal"
            id="nombre-mes"
          >
            <!-- Se llenarÃ¡ con JavaScript -->
          </h3>

          <!-- LÃ­nea decorativa derecha -->
          <div
            class="w-12 h-px bg-gradient-to-l from-transparent to-[#C9A961]"
            id="linea-der"
          >
          </div>
        </div>

        <!-- DÃAS DE LA SEMANA -->
        <div class="grid grid-cols-7 gap-1 md:gap-2 mb-3">
          <div
            class="text-center font-charm text-sm md:text-base text-[#626a54] font-bold"
          >
            D
          </div>
          <div
            class="text-center font-charm text-sm md:text-base text-[#626a54] font-bold"
          >
            L
          </div>
          <div
            class="text-center font-charm text-sm md:text-base text-[#626a54] font-bold"
          >
            M
          </div>
          <div
            class="text-center font-charm text-sm md:text-base text-[#626a54] font-bold"
          >
            M
          </div>
          <div
            class="text-center font-charm text-sm md:text-base text-[#626a54] font-bold"
          >
            J
          </div>
          <div
            class="text-center font-charm text-sm md:text-base text-[#626a54] font-bold"
          >
            V
          </div>
          <div
            class="text-center font-charm text-sm md:text-base text-[#626a54] font-bold"
          >
            S
          </div>
        </div>

        <!-- DÃAS DEL MES -->
        <div class="grid grid-cols-7 gap-1 md:gap-2" id="dias-container">
          <!-- Se llenarÃ¡ con JavaScript -->
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Scripts -->
<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // â­ CONFIGURACIÃ“N DE LA FECHA DE LA BODA â­
  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  // ğŸ”§ EDITA ESTAS 3 VARIABLES PARA CAMBIAR LA FECHA:

  const DIA_ESPECIAL = 7; // â† DÃ­a de la boda (1-31)
  const MES_ESPECIAL = 3; // â† Mes de la boda (1-12)
  const AÃ‘O_ESPECIAL = 2026; // â† AÃ±o de la boda

  // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  // Nombres de los meses
  const NOMBRES_MESES = [
    "Enero",
    "Febrero",
    "Marzo",
    "Abril",
    "Mayo",
    "Junio",
    "Julio",
    "Agosto",
    "Septiembre",
    "Octubre",
    "Noviembre",
    "Diciembre",
  ];

  // FunciÃ³n para generar el calendario
  function generarCalendario() {
    const nombreMes = NOMBRES_MESES[MES_ESPECIAL - 1];
    document.getElementById("nombre-mes").textContent = nombreMes;

    // Calcular el primer dÃ­a del mes (0 = domingo, 1 = lunes, etc.)
    const primerDia = new Date(AÃ‘O_ESPECIAL, MES_ESPECIAL - 1, 1).getDay();

    // Calcular el Ãºltimo dÃ­a del mes
    const ultimoDia = new Date(AÃ‘O_ESPECIAL, MES_ESPECIAL, 0).getDate();

    const diasContainer = document.getElementById("dias-container");
    diasContainer.innerHTML = "";

    // Agregar espacios vacÃ­os para dÃ­as antes del primer dÃ­a del mes
    for (let i = 0; i < primerDia; i++) {
      const espacioVacio = document.createElement("div");
      diasContainer.appendChild(espacioVacio);
    }

    // Agregar los dÃ­as del mes
    for (let dia = 1; dia <= ultimoDia; dia++) {
      const diaDiv = document.createElement("div");

      if (dia === DIA_ESPECIAL) {
        // DÃ­a especial de la boda
        diaDiv.className =
          "aspect-square flex items-center justify-center rounded-lg bg-gradient-to-br from-[#C9A961] to-[#e8c878] shadow-xl dia-calendario";
        diaDiv.id = "dia-especial";
        diaDiv.innerHTML = `<span class="font-charm text-2xl md:text-3xl text-white font-bold">${dia}</span>`;
      } else {
        // DÃ­as normales
        diaDiv.className =
          "aspect-square flex items-center justify-center rounded-lg hover:bg-[#C9A961]/10 transition-all dia-calendario";
        diaDiv.innerHTML = `<span class="font-charm text-base md:text-lg text-gray-600">${dia}</span>`;
      }

      diasContainer.appendChild(diaDiv);
    }
  }

  if (typeof window !== "undefined") {
    document.addEventListener("DOMContentLoaded", () => {
      console.log("ğŸ“… Iniciando animaciones del calendario...");

      // Generar el calendario
      generarCalendario();

      gsap.set("#hojas-cal-izq", { opacity: 0, x: 60 });
      gsap.set("#hojas-cal-der", { opacity: 0, x: -60 });
      gsap.set("#calendario-card", { opacity: 0, scale: 0.95 });
      gsap.set("#linea-izq", { opacity: 0, scaleX: 0 });
      gsap.set("#linea-der", { opacity: 0, scaleX: 0 });
      gsap.set("#titulo-mes-container h3", { opacity: 0, scale: 0.9 });
      gsap.set(".dia-calendario", { opacity: 0, scale: 0.8 });

      ScrollTrigger.create({
        trigger: "#calendario-card",
        start: "top 85%",
        end: "top 20%",
        onEnter: () => animarCalendario(),
        onLeaveBack: () => ocultarCalendario(),
      });

      function animarCalendario() {
        const tl = gsap.timeline();

        tl.to("#calendario-card", {
          opacity: 1,
          scale: 1,
          duration: 0.8,
          ease: "back.out(1.3)",
        })
          .to(
            "#linea-izq, #linea-der",
            {
              opacity: 1,
              scaleX: 1,
              duration: 0.6,
              ease: "power2.out",
            },
            "-=0.4",
          )
          .to(
            "#titulo-mes-container h3",
            {
              opacity: 1,
              scale: 1,
              duration: 0.6,
              ease: "back.out(1.3)",
            },
            "-=0.4",
          )
          .to(
            ".dia-calendario",
            {
              opacity: 1,
              scale: 1,
              duration: 0.4,
              stagger: 0.02,
              ease: "back.out(1.2)",
            },
            "-=0.3",
          )
          .to(
            "#hojas-cal-izq, #hojas-cal-der",
            {
              opacity: 0.6,
              x: 0,
              duration: 0.8,
              ease: "power2.out",
            },
            "-=0.6",
          );
      }

      function ocultarCalendario() {
        gsap.set("#hojas-cal-izq", { opacity: 0, x: 60 });
        gsap.set("#hojas-cal-der", { opacity: 0, x: -60 });
        gsap.set("#calendario-card", { opacity: 0, scale: 0.95 });
        gsap.set("#linea-izq", { opacity: 0, scaleX: 0 });
        gsap.set("#linea-der", { opacity: 0, scaleX: 0 });
        gsap.set("#titulo-mes-container h3", { opacity: 0, scale: 0.9 });
        gsap.set(".dia-calendario", { opacity: 0, scale: 0.8 });
      }

      gsap.to("#hojas-cal-izq", {
        y: -8,
        rotation: -3,
        duration: 3,
        ease: "sine.inOut",
        yoyo: true,
        repeat: -1,
        delay: 1,
      });

      gsap.to("#hojas-cal-der", {
        y: -8,
        rotation: 3,
        duration: 3,
        ease: "sine.inOut",
        yoyo: true,
        repeat: -1,
        delay: 1.2,
      });

      gsap.to("#dia-especial", {
        scale: 1.05,
        duration: 2.5,
        ease: "sine.inOut",
        yoyo: true,
        repeat: -1,
        delay: 1.5,
      });

      console.log("ğŸ“…âœ¨ Â¡Calendario listo!");
    });
  }
</script>

<style>
  #dia-especial {
    box-shadow: 0 6px 20px rgba(201, 169, 97, 0.6);
    position: relative;
  }

  #dia-especial::after {
    content: "";
    position: absolute;
    inset: -3px;
    border-radius: 0.5rem;
    border: 2px solid rgba(255, 255, 255, 0.3);
    pointer-events: none;
  }

  .dia-calendario:hover {
    transform: translateY(-2px);
  }
</style>
