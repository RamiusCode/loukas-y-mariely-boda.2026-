---
// NoNinos2.astro
---
<section class="py-8 md:py-12 px-4 relative overflow-hidden">
  <!-- Fondo sutil -->
  <div class="absolute inset-0 bg-gradient-to-b from-[#fffaf5]/30 via-white/10 to-[#fffaf5]/30 z-0"></div>

  <div class="max-w-3xl mx-auto relative z-10">

    <!-- üå∏ FLORES DECORATIVAS SUPERIORES -->
    <div class="flex justify-center mb-6" id="flores-ninos2-top">
      <img
        src="/imagenes/Separadores.webp"
        alt="Flores decorativas"
        class="w-32 md:w-40 h-auto object-contain opacity-90"
      />
    </div>

    <!-- CONTENEDOR PRINCIPAL -->
    <div class="relative">

      <!-- üçÉ HOJAS FLOTANTES IZQUIERDA -->
      <div class="absolute -left-6 md:-left-12 top-0 w-20 md:w-28 pointer-events-none z-0" id="hoja-float-izq">
        <img src="/imagenes/Hojas.webp" alt="Hojas" class="w-full h-auto object-contain opacity-50" />
      </div>

      <!-- üçÉ HOJAS FLOTANTES DERECHA -->
      <div class="absolute -right-6 md:-right-12 top-0 w-20 md:w-28 pointer-events-none z-0" id="hoja-float-der">
        <img src="/imagenes/Hojas.webp" alt="Hojas" class="w-full h-auto object-contain transform -scale-x-100 opacity-50" />
      </div>

      <!-- T√çTULO -->
      <div class="text-center mb-6" id="titulo-ninos2">
        <h2 class="font-great-vibes text-3xl md:text-4xl lg:text-5xl text-[#C9A961] mb-4">
          Celebraci√≥n para adultos
        </h2>
        <!-- L√≠nea decorativa -->
        <div class="flex items-center justify-center gap-3">
          <div class="w-16 h-[2px] bg-gradient-to-r from-transparent to-[#C9A961]"></div>
          <div class="w-2 h-2 rounded-full bg-[#C9A961]"></div>
          <div class="w-16 h-[2px] bg-gradient-to-l from-transparent to-[#C9A961]"></div>
        </div>
      </div>

      <!-- MENSAJE PRINCIPAL -->
      <div class="bg-white/90 backdrop-blur-sm rounded-2xl border border-[#C9A961]/20 py-8 md:py-10 px-4 md:px-10 shadow-lg relative z-10" id="card-mensaje-ninos2">
        
        <!-- ICONO AS.PNG ARRIBA DEL TEXTO -->
        <div class="flex justify-center mb-6" id="icono-as">
          <div class="w-14 h-14 md:w-16 md:h-16 lg:w-20 lg:h-20 transform transition-transform duration-300 hover:scale-110">
                <img
                    src="/imagenes/beb.png"
                    alt="Icono de Bouquet"
                    class="w-full h-full object-contain icono-dorado"
                />
              </div>
        </div>

        <div class="text-center" id="texto-ninos2">
          <p class="font-charm text-xl md:text-xl lg:text-2xl text-[#626a54] leading-relaxed mb-5">
            Aunque apreciamos a sus peque√±os,<br />
            hemos decidido celebrar este momento<br />
            <span class="text-[#C9A961] font-bold">sin ni√±os</span>.
          </p>
          
          <p class="font-charm text-xl md:text-lg lg:text-xl text-[#626a54] leading-relaxed ">
            Deseamos que esta decisi√≥n no impida<br />
            su compa√±√≠a en este d√≠a tan importante.
          </p>
        </div>

        <!-- DECORACI√ìN INFERIOR -->
        <div class="flex justify-center mt-6" id="decoracion-ninos2">
          <div class="flex gap-2">
            <div class="w-2 h-2 rounded-full bg-[#C9A961] opacity-60"></div>
            <div class="w-2 h-2 rounded-full bg-[#C9A961] opacity-80"></div>
            <div class="w-2 h-2 rounded-full bg-[#C9A961]"></div>
            <div class="w-2 h-2 rounded-full bg-[#C9A961] opacity-80"></div>
            <div class="w-2 h-2 rounded-full bg-[#C9A961] opacity-60"></div>
          </div>
        </div>

      </div>

    </div>

  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  if (typeof window !== 'undefined') {
    document.addEventListener("DOMContentLoaded", () => {
      console.log("üë∂ Iniciando animaci√≥n de No Ni√±os (versi√≥n 2)...");

      // üéØ ESTADO INICIAL - Todo con scale para animaci√≥n simult√°nea
      gsap.set("#flores-ninos2-top", { opacity: 0, scale: 0.8 });
      gsap.set("#titulo-ninos2", { opacity: 0, scale: 0.8 });
      gsap.set("#hoja-float-izq", { opacity: 0, x: -50 });
      gsap.set("#hoja-float-der", { opacity: 0, x: 50 });
      gsap.set("#card-mensaje-ninos2", { opacity: 0, scale: 0.8 });
      gsap.set("#icono-as", { opacity: 0, scale: 0.8 });
      gsap.set("#texto-ninos2", { opacity: 0, scale: 0.8 });
      gsap.set("#decoracion-ninos2", { opacity: 0, scale: 0.8 });

      // ‚ú® ANIMACI√ìN CON SCROLLTRIGGER - TODO SIMULT√ÅNEO
      ScrollTrigger.create({
        trigger: "#flores-ninos2-top",
        start: "top 85%",
        end: "top 20%",
        onEnter: () => {
          // TODAS LAS ANIMACIONES AL MISMO TIEMPO
          gsap.to("#flores-ninos2-top, #titulo-ninos2, #card-mensaje-ninos2, #icono-as, #texto-ninos2, #decoracion-ninos2", {
            opacity: 1,
            scale: 1,
            duration: 1.2,
            ease: "back.out(1.4)",
          });

          // Hojas laterales tambi√©n simult√°neas
          gsap.to("#hoja-float-izq, #hoja-float-der", {
            opacity: 0.5,
            x: 0,
            duration: 1.2,
            ease: "power3.out",
          });

          // üí´ ANIMACIONES CONTINUAS (despu√©s de la entrada)

          // Movimiento suave de hojas flotantes
          gsap.to("#hoja-float-izq", {
            y: -10,
            rotation: -5,
            duration: 3,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            delay: 1.2,
          });

          gsap.to("#hoja-float-der", {
            y: 10,
            rotation: 5,
            duration: 3.5,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            delay: 1.5,
          });

          // Pulso en los puntos decorativos
          gsap.to("#decoracion-ninos2 > div > div", {
            scale: 1.3,
            opacity: 0.5,
            duration: 2,
            ease: "sine.inOut",
            yoyo: true,
            repeat: -1,
            stagger: 0.15,
            delay: 1.5,
          });
        },
        onLeaveBack: () => {
          // Restaurar estado inicial
          gsap.set("#flores-ninos2-top", { opacity: 0, scale: 0.8 });
          gsap.set("#titulo-ninos2", { opacity: 0, scale: 0.8 });
          gsap.set("#hoja-float-izq", { opacity: 0, x: -50 });
          gsap.set("#hoja-float-der", { opacity: 0, x: 50 });
          gsap.set("#card-mensaje-ninos2", { opacity: 0, scale: 0.8 });
          gsap.set("#icono-as", { opacity: 0, scale: 0.8 });
          gsap.set("#texto-ninos2", { opacity: 0, scale: 0.8 });
          gsap.set("#decoracion-ninos2", { opacity: 0, scale: 0.8 });
        },
      });

      console.log("üë∂‚ú® ¬°Componente No Ni√±os (v2) activado!");
    });
  }
</script>

<style>
  /* Transici√≥n suave para el card */
  #card-mensaje-ninos2 {
    transition: all 0.3s ease;
  }

  #card-mensaje-ninos2:hover {
    box-shadow: 0 20px 50px rgba(201, 169, 97, 0.2);
    transform: translateY(-4px);
  }

  /* Texto con efecto hover */
  #texto-ninos2 p {
    transition: all 0.3s ease;
  }

  /* Efecto en "sin ni√±os" */
  #texto-ninos2 span {
    transition: all 0.3s ease;
  }

  #texto-ninos2:hover span {
    text-shadow: 0 2px 12px rgba(201, 169, 97, 0.4);
  }

  /* Hojas flotantes con animaci√≥n suave */
  #hoja-float-izq,
  #hoja-float-der {
    will-change: transform;
  }

  /* Icono as.png con hover */
  #icono-as {
    transition: all 0.3s ease;
  }

  #icono-as:hover {
    transform: scale(1.1) rotate(5deg);
  }

  /* Puntos decorativos */
  #decoracion-ninos2 > div > div {
    transition: all 0.3s ease;
  }

  /* Separadores con hover */
  #flores-ninos2-top img {
    transition: all 0.3s ease;
  }

  #flores-ninos2-top:hover img {
    transform: scale(1.05);
    filter: brightness(1.1);
  }

  /* T√≠tulo elegante con sombra */
  #titulo-ninos2 h2 {
    text-shadow: 0 2px 8px rgba(201, 169, 97, 0.1);
  }
</style>